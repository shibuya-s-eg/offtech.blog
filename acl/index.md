# ACLを完全に理解する


<!--
Todo:
- TLDR

-->


こんにちは、しぶやです。
今回はACL（Access Controle List）を完全に理解していきます。


## TL;DR

*
*
*

## 1 はじめに

### 1.1 ACLとは

ACLとはAccess Controle Listの略です。
「エー・シー・エル」と呼びます。
（この記事を書くまでは「アクル」と読んでいましたが、「エー・シー・エル」がデファクトスタンダードらしいです。改めよう。。）

ACLは日本語ではアクセス制御リストと呼ばれたりします。
その名の通り、アクセス制御に利用されるルールのリストです。

それでは、アクセス制御とは何でしょうか？
ここでは、ネットワーク領域でのアクセス制御、すなわちパケットフィルタリングを意味します。

まとめると、**ACLはパケットフィルタリングを行うためのルールのリスト**です。
「192.168.1.1はよいけど、192.168.1.2はだめよ」みたいな感じです。

{{< admonition Note "ネットワーク機器におけるACLの用途" >}}
Ciscoなどのネットワーク機器では、ACLはアクセス制御以外にも、何かの対象として単なるグループとしても利用されます。
例えば、NATを適用するIPアドレスのリストやQoSを適用するIPアドレスのリストなどです。

本記事では、アクセス制御を目的としたACLに絞って扱います。
また、ネットワーク機器のACL、特にCisco機器に絞って扱います。（私自身Ciscoしか触ったことがないため。）
{{< /admonition >}}

### 1.2 ACLの重要性

ACLはセキュリティの文脈で非常に重要です。
ACLが重要な理由は「最小権限の原則」を実現する最も基本的で重要な手法だからです。

特にサイバーセキュリティの観点では、攻撃経路はネットワーク経由であり、IPレベルでのアクセス制御は最も効果的な手法の一つです。
近年では境界型防御と呼ばれるシステムと外部の境界部分でのアクセス制御だけでなく、システム内部でもアクセス制御を行うゼロトラストな考え方が一般的になっており、ACLの重要性はますます高まっています。

本記事では実際にネットワーク機器でACLを設定する方法やその考え方などを深く学んでいきます。

## 2 ACLの基本概念と種類

### 2.1 標準ACLと拡張ACLの違い
### 2.2 番号付きACLと名前付きACL
### 2.3 ルータACLとスイッチACL（L2とL3の違い）
### 2.4 インバウンドとアウトバウンドACL

## 3 ACLの評価ロジックと仕組み

### 3.1 トラフィックの流れとACL評価のタイミング
### 3.2 順次評価と「最初に一致したルールで決定」される仕組み
### 3.3 暗黙のdenyルール
### 3.4 ステートレスな性質とその意味

## 4 実際の適用ポイントと内部処理

### 4.1 ACLが適用される場所（インターフェース、ライン、VTYなど）
### 4.2 VLANとACLの関係
### 4.3 パケットの通過前後に行われる処理
### 4.4 ハードウェアアクセラレーションとTCAMの利用

## 5 ACLの記述とマッチング詳細

### 5.1 IPアドレスとワイルドカードマスクの解釈
### 5.2 ポート番号の指定とマッチング
### 5.3 `permit`, `deny`, `remark` の使い分け
### 5.4 `established` オプションの仕組み（TCPセッション追跡）

## 6 ACLとセキュリティの関係

### 6.1 セグメンテーションとアクセス制御の基本
### 6.2 ACLによる攻撃対策（DoS緩和、リフレクション防止）
### 6.3 バックドア遮断とゼロトラスト的な利用

## 7 ACL設計のベストプラクティス

### 7.1 設計時の注意点（順序、粒度、記録性）
### 7.2 トラブルシューティングの基本とデバッグ方法
### 7.3 ログの活用方法（`log` オプション、Syslog連携）

## 8 ACLの進化と他技術との比較

### 8.1 Zone-Based Firewall（ZBFW）との違い
### 8.2 Cisco TrustSec や MACsec との関係
### 8.3 SDNにおけるACLの扱い（OpenFlowなど）

## 9 まとめ

### 9.1 ACLが持つ意義と限界
### 9.2 ネットワーク設計におけるACLの位置づけ
### 9.3 今後のアクセス制御技術の展望




## 参考

[1] []()

